<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>윤현호 소개 페이지</title>

    <!-- jQuery Script -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!-- BootStrap Script -->
     
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />

    <!-- 폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Gowun+Dodum&family=Noto+Sans+KR:wght@100..900&family=Oswald:wght@200..700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Sour+Gummy:ital,wght@0,100..900;1,100..900&family=Source+Code+Pro&display=swap"
        rel="stylesheet" />

        <style>
            body {
              margin: 0;
              padding: 0;
              background-color: #333333; /* 진한 회색 배경 */
              color: white; /* 흰색 글자 */
              font-family: "Noto Sans KR", sans-serif;
              height: 100vh;
              display: flex;
              justify-content: center;
              align-items: center;
              flex-direction: column; /* 세로 정렬 */
            }
          
            .container {
              text-align: center;
              max-width: 850px; /* 최대 너비 제한 */
              padding: 20px;
              box-sizing: border-box;
            }
          
            #my_profile_img {
              width: 350px; /* 사진 크기 */
              height: 350px;
              border-radius: 50%; /* 동그란 사진 */
              border: 3px solid white; /* 흰색 테두리 */
              object-fit: cover;
              object-position: center;
              margin-bottom: 20px; /* 아래 여백 */
            }
          
            h2 {
              font-size: 24px;
              margin: 15px 0;
              font-weight: bold;
            }
          
            p {
              font-size: 20px;
              line-height: 1.6;
              margin: 10px 0;
              word-wrap: break-word; /* 긴 단어 줄바꿈 */
              max-width: 800px; /* 텍스트의 최대 너비 */
              display: inline-block; /* 가운데 정렬 */
            }
          
            .section_bottom_wrapper {
              margin-top: 20px;
              padding: 20px;
              background-color: rgba(255, 255, 255, 0.1); /* 투명한 흰색 배경 */
              border-radius: 10px;
            }
          </style>
          
          

    <!-- FireBase 연동 및 기능 넣는 구간 -->
    <script type="module">
        /* 파이어베이스 시작점 */
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import {
            collection,
            query,
            where,
            getDoc,
            doc,
        } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBi68Bib9QK92ATsOSiYZ0rdvz2kMwXi88",
            authDomain: "onboarding-project-6b59e.firebaseapp.com",
            projectId: "onboarding-project-6b59e",
            storageBucket: "onboarding-project-6b59e.firebasestorage.app",
            messagingSenderId: "654347061607",
            appId: "1:654347061607:web:3c6f4e1e4c880db463c7c2",
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        $(document).ready(async () => {
            const myData = await getDoc(doc(db, "members", "seaking110"));

            const { member_id, name, profile_url, content, createdAt } =
                myData.data();
            const [before, after] = content.split("제가 좋아하는 것은");
            const [after2, mbti] = after.split("MBTI");
            const [year, month, day] = createdAt.split(". ");

            $("#my_profile_img").attr("src", profile_url);
            $("#my_name").text("신입 개발자 "+name +"입니다");
            $("#my_favorites").text(after2.trim());
            $("#my_mbti").text(mbti);
            $("#my_message").html(before.trim());
        });
    </script>
</head>

<body>
    <div class="container">
        <section class="data_section">
            <div class="section_top_wrapper">
                <div>
                    <img id="my_profile_img" alt="프로필 사진" />
                </div>
                <div class="info_wrapper">
                    <h1 id="my_name"></h1>
                    <p><h2>관심사</h2> <span id="my_favorites"></span></p> <br>
                    <p><h2>MBTI</h2><h2><span id="my_mbti"></span></h2></p>    
                </div>
            </div>
            <div class="section_bottom_wrapper">
                <p id="my_message"></p>
            </div>
        </section>
    </div>
</body>

</html>